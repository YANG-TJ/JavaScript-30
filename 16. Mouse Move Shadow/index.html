<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Mouse Shadow</title>
  <style>
    html {
      color: black;
      font-family: sans-serif;
    }

    body {
      margin: 0;
    }

    .hero {
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      color: black;
    }

    h1 {
      text-shadow: 10px 10px 0 rgba(0, 0, 0, 1);
      font-size: 100px;
    }
  </style>

</head>

<body>

  <div class="hero">
    <h1 contenteditable>ğŸ”¥WOAH!</h1>
  </div>

  <script>
    const hero = document.querySelector('.hero')
    const text = document.querySelector('h1')

    //method1:
    function shadow(e) {
      // hero.offsetWidth= heroæœ¬èº«é«˜åº¦(å›ºå®š)
      // e.offsetX, e.offsetY :æ»‘é¼ ç§»å‹•ä½ç½®(mouseåœ¨è©²å…ƒç´ ä¸‹çš„ç›¸å°ä½ç½®)
      const { offsetWidth: width, offsetHeight: height } = hero
      let { offsetX: x, offsetY: y } = e

      //æä¾› heroçš„å‹•ç•«é¡¯ç¤ºåŸºæº–é»(0,0), walkç‚ºå…¨é•·(px)
      const walk = 100
      const xWalk = Math.round((x / width * walk) - (walk / 2))
      const yWalk = Math.round((x / height * walk) - (walk / 2))

      console.log(x, y);
      console.log("e.target", e.target);

      //ç§»å‹•åˆ° h1æ™‚, åƒ…è¨ˆç®—åˆ° h1å…§çš„åº§æ¨™ (å·¦ä¸Š(0,0)åŸé»), é ˆå†åŠ ä¸Š h1æœ¬èº«åº§æ¨™ (top,left)
      if (this !== e.target) {
        x = x + e.target.offsetLeft
        y = y + e.target.offsetTop
      }
      text.style.textShadow =
        `${xWalk}px ${yWalk}px 0 rgba(255,0,255,0.7),
      ${xWalk * -1}px ${yWalk}px 0 rgba(0,255,255,0.7),
      ${yWalk}px ${xWalk * -1}px 0  rgba(0,255,0,0.7),
      ${yWalk * -1}px ${xWalk*-1}px 0 rgba(0,0,255,0.7)`
    }
    // hero.addEventListener('mousemove', shadow)

    //method2:
    function shadow2(e){
      //mouseåº§æ¨™: e.clientX, e.clientY(æ»‘é¼ ç›¸å°é¡¯ç¤ºé é¢çš„ä½ç½®)
      let mouseX=e.clientX
      let mouseY=e.clientY
      //ç›®å‰é é¢ä¸­å¿ƒé», h1 <style>ä½ç½®å‰›å¥½ç‚ºä¸­å¿ƒé»
      let centerX=window.innerWidth/2
      let centerY=window.innerHeight/2
      //å½±å­æ•ˆæœç§»å‹•è·é›¢
      let moveX=mouseX-centerX
      let moveY=mouseY-centerY

      //è¨ˆç®—é™°å½±ä½ç½®
      text.style.textShadow=
      `${moveX}px ${moveY}px 0 rgba(255,0,255,0.7),
      ${-moveX}px ${moveY}px 0 rgba(0,255,255,0.7),
      ${-moveY}px ${-moveX}px 0 rgba(0,255,0,0.7),
      ${moveY}px ${moveX}px 0  rgba(0,0,255,0.7)`
    }
    window.addEventListener('mousemove', shadow2)

  </script>
</body>

</html>